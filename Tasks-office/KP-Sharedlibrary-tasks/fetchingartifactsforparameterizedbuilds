import groovy.json.JsonSlurper


try {
    List<String> artifacts = new ArrayList<String>()
    def artifactsUrl = "http://localhost:8081/#browse/browse:simple-repository:net%2Fjava%2Fcargo-tracker"          
    def artifactsrestapis = ["curl", "-s", "-H", "accept: application/json", "-k", "--url", "${artifactsUrl}"].execute().text
    def jsonSlurper = new JsonSlurper()
    def artifactsJsonObject = jsonSlurper.parseText(artifactsrestapis)
    def dataArray = artifactsJsonObject.data
    for(item in dataArray){
        if (item.isMetadata== false)
        artifacts.add(item.text)
    } 
    return artifacts
} catch (Exception e) {
    print "There was a problem fetching the artifacts"
}



curl -u admin:vamshidhar -X GET "https://vamshidhar.jfrog.io/artifactory/testing/net/java/cargo-tracker/maven-metadata.xml"
